<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grammatik-√úbungen - Englisch Abitur 2026</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --bg-color: #ecf0f1;
            --card-bg: #ffffff;
            --text-color: #2c3e50;
            --border-color: #bdc3c7;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-color) 0%, #d5dbdb 100%);
            color: var(--text-color);
            line-height: 1.7;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border-top: 5px solid var(--secondary-color);
        }

        .nav-breadcrumb {
            margin-bottom: 20px;
            padding: 15px 20px;
            background: var(--card-bg);
            border-radius: 10px;
            border-left: 4px solid var(--secondary-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .nav-breadcrumb a {
            color: var(--secondary-color);
            text-decoration: none;
            margin-right: 10px;
            font-weight: 500;
        }

        .nav-breadcrumb a:hover {
            text-decoration: underline;
        }

        .grammar-section {
            background: var(--card-bg);
            margin-bottom: 30px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .section-header {
            background: linear-gradient(135deg, var(--secondary-color) 0%, #2980b9 100%);
            color: white;
            padding: 20px 30px;
            font-size: 1.5em;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-content {
            padding: 30px;
        }

        .explanation {
            background: linear-gradient(135deg, #e8f4f8 0%, #f0f8ff 100%);
            border-left: 5px solid var(--secondary-color);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: 10px;
        }

        .explanation h3 {
            color: var(--primary-color);
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .explanation p {
            margin-bottom: 12px;
            font-size: 1.05em;
        }

        .important-note {
            background: linear-gradient(135deg, #fff3cd 0%, #fef9e7 100%);
            border: 2px solid var(--warning-color);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .important-note h4 {
            color: var(--warning-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .rule-box {
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            border: 2px solid var(--success-color);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .rule-box h4 {
            color: var(--success-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .example-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .example-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
        }

        .correct {
            border-left: 5px solid var(--success-color);
        }

        .incorrect {
            border-left: 5px solid var(--accent-color);
        }

        .grammar-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .grammar-table th {
            background: linear-gradient(45deg, var(--primary-color), #34495e);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .grammar-table td {
            padding: 15px;
            border-bottom: 1px solid #ecf0f1;
            font-size: 1.05em;
        }

        .grammar-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .grammar-table tr:hover {
            background: #e3f2fd;
            transform: scale(1.01);
            transition: all 0.2s ease;
        }

        .exercise-box {
            background: linear-gradient(135deg, #fff5f5 0%, #ffebee 100%);
            border: 2px solid var(--accent-color);
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
        }

        .exercise-box h4 {
            color: var(--accent-color);
            margin-bottom: 20px;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .question {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--secondary-color);
        }

        .question strong {
            color: var(--primary-color);
        }

        .answer-input {
            width: 200px;
            padding: 8px 12px;
            border: 2px solid #ddd;
            border-radius: 5px;
            margin: 0 5px;
            font-size: 1em;
        }

        .answer-input:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .btn {
            display: inline-block;
            padding: 12px 25px;
            background: linear-gradient(45deg, var(--secondary-color), #2980b9);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            margin: 5px;
            font-size: 1em;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.3);
        }

        .btn-success {
            background: linear-gradient(45deg, var(--success-color), #229954);
        }

        .btn-warning {
            background: linear-gradient(45deg, var(--warning-color), #e67e22);
        }

        .btn-danger {
            background: linear-gradient(45deg, var(--accent-color), #c0392b);
        }

        .solution {
            background: linear-gradient(135deg, #d4edda 0%, #f0f9ff 100%);
            border: 2px solid var(--success-color);
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            display: none;
        }

        .solution.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .highlight {
            background: #fff9c4;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .formula {
            background: #f1f3f4;
            border: 1px solid #dadce0;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.1em;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--success-color), #2ecc71);
            width: 0%;
            transition: width 0.5s ease;
        }

        @media (max-width: 768px) {
            .example-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 15px;
            }
            
            .section-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav-breadcrumb">
            <a href="index.html">üè† Haupt√ºbersicht</a> / 
            <a href="sprachliche_mittel.html">üìö Sprachliche Mittel</a> /
            <span>üìù Grammatik-√úbungen</span>
        </div>

        <div class="header">
            <h1>üìù Grammatik-√úbungen</h1>
            <p>Detaillierte Erkl√§rungen und interaktive √úbungen zur englischen Grammatik</p>
            <div class="progress-bar">
                <div class="progress-fill" id="overallProgress"></div>
            </div>
        </div>

        <!-- ZEITEN (TENSES) -->
        <div class="grammar-section">
            <div class="section-header">
                ‚è∞ Zeiten (Tenses) - Das Fundament der englischen Grammatik
            </div>
            <div class="section-content">
                <div class="explanation">
                    <h3>Was sind Zeiten und warum sind sie wichtig?</h3>
                    <p>Zeiten (Tenses) zeigen an, <strong>wann</strong> eine Handlung stattfindet: in der Vergangenheit, Gegenwart oder Zukunft. Im Englischen gibt es 12 Hauptzeiten, aber f√ºr das Abitur sind besonders wichtig:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Present Tenses</strong>: Simple Present, Present Progressive, Present Perfect, Present Perfect Progressive</li>
                        <li><strong>Past Tenses</strong>: Simple Past, Past Progressive, Past Perfect, Past Perfect Progressive</li>
                        <li><strong>Future Tenses</strong>: will-future, going to-future, Future Perfect, Future Progressive</li>
                    </ul>
                </div>

                <div class="important-note">
                    <h4>‚ö†Ô∏è Wichtiger Hinweis</h4>
                    <p>Deutsche Sch√ºler machen oft Fehler, weil das Deutsche nur 6 Zeiten hat, das Englische aber 12! Besonders schwierig sind die Perfect-Zeiten, weil es sie im Deutschen so nicht gibt.</p>
                </div>

                <!-- Present Tenses -->
                <h3 style="color: var(--secondary-color); margin: 30px 0 20px 0;">üî∏ Present Tenses (Gegenwart)</h3>
                
                <div class="rule-box">
                    <h4>üìã Simple Present</h4>
                    <div class="formula">
                        Subjekt + Grundform (bei he/she/it + -s)
                    </div>
                    <p><strong>Verwendung:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li>Gewohnheiten: "I drink coffee every morning."</li>
                        <li>Fakten: "Water boils at 100¬∞C."</li>
                        <li>Fahrpl√§ne: "The train leaves at 8 AM."</li>
                    </ul>
                </div>

                <div class="example-grid">
                    <div class="example-card correct">
                        <h5 style="color: var(--success-color);">‚úÖ Richtig</h5>
                        <p>"She <span class="highlight">works</span> in a bank."</p>
                        <p>"They <span class="highlight">live</span> in Berlin."</p>
                        <p>"He <span class="highlight">doesn't like</span> pizza."</p>
                    </div>
                    <div class="example-card incorrect">
                        <h5 style="color: var(--accent-color);">‚ùå Falsch</h5>
                        <p>"She <span class="highlight">work</span> in a bank." (fehlendes -s)</p>
                        <p>"They <span class="highlight">are live</span> in Berlin." (falsches Hilfsverb)</p>
                        <p>"He <span class="highlight">don't likes</span> pizza." (doppelte Verneinung)</p>
                    </div>
                </div>

                <div class="rule-box">
                    <h4>üìã Present Progressive (Present Continuous)</h4>
                    <div class="formula">
                        am/is/are + Verb + -ing
                    </div>
                    <p><strong>Verwendung:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li>Handlungen, die JETZT gerade stattfinden: "I am writing an email."</li>
                        <li>Tempor√§re Situationen: "She is staying with friends this week."</li>
                        <li>Geplante Zukunft: "We are meeting tomorrow at 3 PM."</li>
                    </ul>
                </div>

                <div class="example-grid">
                    <div class="example-card correct">
                        <h5 style="color: var(--success-color);">‚úÖ Richtig</h5>
                        <p>"I <span class="highlight">am studying</span> for my exam."</p>
                        <p>"She <span class="highlight">is working</span> late today."</p>
                        <p>"They <span class="highlight">are not coming</span> to the party."</p>
                    </div>
                    <div class="example-card incorrect">
                        <h5 style="color: var(--accent-color);">‚ùå Falsch</h5>
                        <p>"I <span class="highlight">study</span> for my exam." (wenn es JETZT passiert)</p>
                        <p>"She <span class="highlight">working</span> late today." (fehlendes Hilfsverb)</p>
                        <p>"They <span class="highlight">don't coming</span>." (falsches Hilfsverb)</p>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>üéØ √úbung 1: Present Tenses</h4>
                    <div class="question">
                        <strong>1.</strong> My sister _______ (work) as a teacher, but this month she _______ (help) at a summer camp.
                        <br><br>
                        <input type="text" class="answer-input" id="q1a" placeholder="works">
                        <input type="text" class="answer-input" id="q1b" placeholder="is helping">
                    </div>
                    <div class="question">
                        <strong>2.</strong> Water _______ (freeze) at 0¬∞C, but it _______ (not freeze) right now because it's summer.
                        <br><br>
                        <input type="text" class="answer-input" id="q2a" placeholder="freezes">
                        <input type="text" class="answer-input" id="q2b" placeholder="is not freezing">
                    </div>
                    <button class="btn btn-success" onclick="checkAnswers(1)">Antworten √ºberpr√ºfen</button>
                    <button class="btn btn-warning" onclick="showSolution(1)">L√∂sung zeigen</button>
                    <div class="solution" id="solution1">
                        <h5 style="color: var(--success-color);">L√∂sungen:</h5>
                        <p><strong>1.</strong> works (Gewohnheit/Fakt) - is helping (tempor√§re Situation)</p>
                        <p><strong>2.</strong> freezes (Naturgesetz) - is not freezing (aktuelle Situation)</p>
                        <p><strong>Erkl√§rung:</strong> "Works" ist Simple Present (Gewohnheit), "is helping" ist Present Progressive (tempor√§r). "Freezes" ist ein Fakt, "is not freezing" beschreibt die aktuelle Situation.</p>
                    </div>
                </div>

                <!-- Past Tenses -->
                <h3 style="color: var(--secondary-color); margin: 40px 0 20px 0;">üî∏ Past Tenses (Vergangenheit)</h3>

                <div class="rule-box">
                    <h4>üìã Simple Past</h4>
                    <div class="formula">
                        Subjekt + Verb + -ed (regelm√§√üig) oder 2. Form (unregelm√§√üig)
                    </div>
                    <p><strong>Verwendung:</strong></p>
                    <ul style="margin-left: 20px;">
                        <li>Abgeschlossene Handlungen in der Vergangenheit: "I visited London last year."</li>
                        <li>Aufeinanderfolgende Handlungen: "She came home and made dinner."</li>
                        <li>Mit Zeitangaben: yesterday, last week, in 2020</li>
                    </ul>
                </div>

                <div class="rule-box">
                    <h4>üìã Present Perfect</h4>
                    <div class="formula">
                        have/has + Past Participle (3. Form)
                    </div>
                    <p><strong>Verwendung:</strong> (Das ist f√ºr Deutsche sehr schwierig!)</p>
                    <ul style="margin-left: 20px;">
                        <li>Erfahrungen: "I have been to Paris." (irgendwann im Leben)</li>
                        <li>Unvollendete Handlungen: "I have lived here for 5 years." (und lebe noch hier)</li>
                        <li>K√ºrzlich passiert: "She has just arrived."</li>
                    </ul>
                </div>

                <div class="important-note">
                    <h4>‚ö†Ô∏è Simple Past vs Present Perfect - Der gro√üe Unterschied!</h4>
                    <p><strong>Simple Past:</strong> "I went to Paris last year." (wann = wichtig, abgeschlossen)</p>
                    <p><strong>Present Perfect:</strong> "I have been to Paris." (wann = unwichtig, Erfahrung)</p>
                    <p><strong>Faustregel:</strong> Zeitangabe (yesterday, last week) = Simple Past. Keine konkrete Zeitangabe = Present Perfect.</p>
                </div>

                <div class="example-grid">
                    <div class="example-card correct">
                        <h5 style="color: var(--success-color);">‚úÖ Richtig</h5>
                        <p>"I <span class="highlight">visited</span> Rome last summer." (konkrete Zeit)</p>
                        <p>"I <span class="highlight">have visited</span> Rome." (Erfahrung)</p>
                        <p>"She <span class="highlight">has lived</span> here since 2020." (noch andauernd)</p>
                    </div>
                    <div class="example-card incorrect">
                        <h5 style="color: var(--accent-color);">‚ùå Falsch</h5>
                        <p>"I <span class="highlight">have visited</span> Rome last summer." (Zeitangabe!)</p>
                        <p>"I <span class="highlight">visited</span> Rome." (wenn Erfahrung gemeint ist)</p>
                        <p>"She <span class="highlight">lived</span> here since 2020." (noch andauernd!)</p>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>üéØ √úbung 2: Simple Past vs Present Perfect</h4>
                    <div class="question">
                        <strong>1.</strong> I _______ (see) this movie three times. It's fantastic!
                        <br><br>
                        <input type="text" class="answer-input" id="q3a" placeholder="have seen">
                    </div>
                    <div class="question">
                        <strong>2.</strong> We _______ (go) to the cinema yesterday and _______ (watch) the new Marvel movie.
                        <br><br>
                        <input type="text" class="answer-input" id="q4a" placeholder="went">
                        <input type="text" class="answer-input" id="q4b" placeholder="watched">
                    </div>
                    <div class="question">
                        <strong>3.</strong> She _______ (live) in London for 10 years, but now she lives in Berlin.
                        <br><br>
                        <input type="text" class="answer-input" id="q5a" placeholder="lived">
                    </div>
                    <button class="btn btn-success" onclick="checkAnswers(2)">Antworten √ºberpr√ºfen</button>
                    <button class="btn btn-warning" onclick="showSolution(2)">L√∂sung zeigen</button>
                    <div class="solution" id="solution2">
                        <h5 style="color: var(--success-color);">L√∂sungen:</h5>
                        <p><strong>1.</strong> have seen (Erfahrung, keine konkrete Zeit)</p>
                        <p><strong>2.</strong> went, watched (konkrete Zeit: yesterday)</p>
                        <p><strong>3.</strong> lived (abgeschlossen, sie wohnt nicht mehr dort)</p>
                    </div>
                </div>

                <!-- Conditional Sentences -->
                <h3 style="color: var(--secondary-color); margin: 40px 0 20px 0;">üî∏ Conditional Sentences (Bedingungss√§tze)</h3>

                <div class="explanation">
                    <h3>Was sind Conditionals?</h3>
                    <p>Conditional Sentences dr√ºcken aus, was passiert, wenn eine bestimmte Bedingung erf√ºllt ist. Es gibt drei Haupttypen:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>Type 1:</strong> Reale/wahrscheinliche Bedingung in der Zukunft</li>
                        <li><strong>Type 2:</strong> Unreale/unwahrscheinliche Bedingung in der Gegenwart</li>
                        <li><strong>Type 3:</strong> Unm√∂gliche Bedingung in der Vergangenheit</li>
                    </ul>
                </div>

                <table class="grammar-table">
                    <thead>
                        <tr>
                            <th>Typ</th>
                            <th>If-Satz (Bedingung)</th>
                            <th>Hauptsatz (Folge)</th>
                            <th>Beispiel</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Type 1</strong><br>(Real/M√∂glich)</td>
                            <td>If + Simple Present</td>
                            <td>will + Infinitive</td>
                            <td>If it rains, I <strong>will stay</strong> home.</td>
                        </tr>
                        <tr>
                            <td><strong>Type 2</strong><br>(Unreal/Unwahrscheinlich)</td>
                            <td>If + Simple Past</td>
                            <td>would + Infinitive</td>
                            <td>If I won the lottery, I <strong>would buy</strong> a house.</td>
                        </tr>
                        <tr>
                            <td><strong>Type 3</strong><br>(Unm√∂glich)</td>
                            <td>If + Past Perfect</td>
                            <td>would have + Past Participle</td>
                            <td>If I had studied, I <strong>would have passed</strong> the exam.</td>
                        </tr>
                    </tbody>
                </table>

                <div class="important-note">
                    <h4>‚ö†Ô∏è Typische Fehler bei Conditionals</h4>
                    <p><strong>Falsch:</strong> "If I will have time, I will come." ‚Üí <strong>Richtig:</strong> "If I have time, I will come."</p>
                    <p><strong>Falsch:</strong> "If I would be rich..." ‚Üí <strong>Richtig:</strong> "If I were rich..." (Type 2)</p>
                    <p><strong>Merksatz:</strong> Im If-Satz steht NIE "will" oder "would"!</p>
                </div>

                <div class="exercise-box">
                    <h4>üéØ √úbung 3: Conditionals</h4>
                    <div class="question">
                        <strong>1.</strong> If she _______ (study) harder, she _______ (get) better grades. (Type 1)
                        <br><br>
                        <input type="text" class="answer-input" id="q6a" placeholder="studies">
                        <input type="text" class="answer-input" id="q6b" placeholder="will get">
                    </div>
                    <div class="question">
                        <strong>2.</strong> If I _______ (be) you, I _______ (not do) that. (Type 2)
                        <br><br>
                        <input type="text" class="answer-input" id="q7a" placeholder="were">
                        <input type="text" class="answer-input" id="q7b" placeholder="would not do">
                    </div>
                    <div class="question">
                        <strong>3.</strong> If they _______ (leave) earlier, they _______ (not miss) the train. (Type 3)
                        <br><br>
                        <input type="text" class="answer-input" id="q8a" placeholder="had left">
                        <input type="text" class="answer-input" id="q8b" placeholder="would not have missed">
                    </div>
                    <button class="btn btn-success" onclick="checkAnswers(3)">Antworten √ºberpr√ºfen</button>
                    <button class="btn btn-warning" onclick="showSolution(3)">L√∂sung zeigen</button>
                    <div class="solution" id="solution3">
                        <h5 style="color: var(--success-color);">L√∂sungen:</h5>
                        <p><strong>1.</strong> studies, will get (Type 1: real m√∂glich)</p>
                        <p><strong>2.</strong> were, would not do (Type 2: unreal, Ratschlag)</p>
                        <p><strong>3.</strong> had left, would not have missed (Type 3: unm√∂glich, Vergangenheit)</p>
                    </div>
                </div>

                <!-- Passive Voice -->
                <h3 style="color: var(--secondary-color); margin: 40px 0 20px 0;">üî∏ Passive Voice (Passiv)</h3>

                <div class="explanation">
                    <h3>Wann und warum verwendet man das Passiv?</h3>
                    <p>Das Passiv verwendet man, wenn:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li>Der Handelnde (Agent) unwichtig oder unbekannt ist</li>
                        <li>Man das Objekt betonen m√∂chte</li>
                        <li>In wissenschaftlichen oder formellen Texten</li>
                    </ul>
                    <p><strong>Bildung:</strong> Form von "be" + Past Participle (3. Form)</p>
                </div>

                <table class="grammar-table">
                    <thead>
                        <tr>
                            <th>Zeit</th>
                            <th>Aktiv</th>
                            <th>Passiv</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Simple Present</td>
                            <td>They build houses.</td>
                            <td>Houses <strong>are built</strong>.</td>
                        </tr>
                        <tr>
                            <td>Simple Past</td>
                            <td>They built the house.</td>
                            <td>The house <strong>was built</strong>.</td>
                        </tr>
                        <tr>
                            <td>Present Perfect</td>
                            <td>They have built the house.</td>
                            <td>The house <strong>has been built</strong>.</td>
                        </tr>
                        <tr>
                            <td>Future (will)</td>
                            <td>They will build a house.</td>
                            <td>A house <strong>will be built</strong>.</td>
                        </tr>
                        <tr>
                            <td>Modal Verbs</td>
                            <td>They can build houses.</td>
                            <td>Houses <strong>can be built</strong>.</td>
                        </tr>
                    </tbody>
                </table>

                <div class="important-note">
                    <h4>‚ö†Ô∏è H√§ufige Passiv-Fehler</h4>
                    <p><strong>Falsch:</strong> "The car is repairing." ‚Üí <strong>Richtig:</strong> "The car is being repaired." (Present Progressive Passive)</p>
                    <p><strong>Falsch:</strong> "The book was wrote by him." ‚Üí <strong>Richtig:</strong> "The book was written by him." (Past Participle verwenden)</p>
                </div>

                <div class="example-grid">
                    <div class="example-card correct">
                        <h5 style="color: var(--success-color);">‚úÖ Richtig</h5>
                        <p>"English <span class="highlight">is spoken</span> worldwide."</p>
                        <p>"The letter <span class="highlight">was written</span> yesterday."</p>
                        <p>"A new school <span class="highlight">will be built</span> next year."</p>
                    </div>
                    <div class="example-card incorrect">
                        <h5 style="color: var(--accent-color);">‚ùå Falsch</h5>
                        <p>"English <span class="highlight">speaks</span> worldwide." (fehlendes Passiv)</p>
                        <p>"The letter <span class="highlight">wrote</span> yesterday." (fehlendes "was")</p>
                        <p>"A new school <span class="highlight">will build</span> next year." (fehlendes "be")</p>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>üéØ √úbung 4: Passive Voice</h4>
                    <div class="question">
                        <strong>1.</strong> Aktiv: "Shakespeare wrote Hamlet." ‚Üí Passiv: Hamlet _______ by Shakespeare.
                        <br><br>
                        <input type="text" class="answer-input" id="q9a" placeholder="was written">
                    </div>
                    <div class="question">
                        <strong>2.</strong> Aktiv: "They are building a new bridge." ‚Üí Passiv: A new bridge _______.
                        <br><br>
                        <input type="text" class="answer-input" id="q10a" placeholder="is being built">
                    </div>
                    <div class="question">
                        <strong>3.</strong> Aktiv: "Someone has stolen my bike." ‚Üí Passiv: My bike _______.
                        <br><br>
                        <input type="text" class="answer-input" id="q11a" placeholder="has been stolen">
                    </div>
                    <button class="btn btn-success" onclick="checkAnswers(4)">Antworten √ºberpr√ºfen</button>
                    <button class="btn btn-warning" onclick="showSolution(4)">L√∂sung zeigen</button>
                    <div class="solution" id="solution4">
                        <h5 style="color: var(--success-color);">L√∂sungen:</h5>
                        <p><strong>1.</strong> was written (Simple Past Passive)</p>
                        <p><strong>2.</strong> is being built (Present Progressive Passive)</p>
                        <p><strong>3.</strong> has been stolen (Present Perfect Passive)</p>
                    </div>
                </div>

                <!-- Reported Speech -->
                <h3 style="color: var(--secondary-color); margin: 40px 0 20px 0;">üî∏ Reported Speech (Indirekte Rede)</h3>

                <div class="explanation">
                    <h3>Was ist Reported Speech?</h3>
                    <p>Reported Speech (indirekte Rede) wird verwendet, um wiederzugeben, was jemand gesagt hat, ohne die Originalworte zu zitieren.</p>
                    <p><strong>Direkte Rede:</strong> She said, "I am happy."</p>
                    <p><strong>Indirekte Rede:</strong> She said (that) she was happy.</p>
                </div>

                <div class="rule-box">
                    <h4>üìã Zeitenverschiebung (Backshift of Tenses)</h4>
                    <p>Wenn der Einleitungssatz in der Vergangenheit steht (said, told), verschieben sich die Zeiten:</p>
                </div>

                <table class="grammar-table">
                    <thead>
                        <tr>
                            <th>Direkte Rede</th>
                            <th>Indirekte Rede</th>
                            <th>Beispiel</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Simple Present ‚Üí Simple Past</td>
                            <td>"I work here" ‚Üí he worked there</td>
                            <td>He said he worked there.</td>
                        </tr>
                        <tr>
                            <td>Present Progressive ‚Üí Past Progressive</td>
                            <td>"I am working" ‚Üí he was working</td>
                            <td>He said he was working.</td>
                        </tr>
                        <tr>
                            <td>Simple Past ‚Üí Past Perfect</td>
                            <td>"I worked" ‚Üí he had worked</td>
                            <td>He said he had worked.</td>
                        </tr>
                        <tr>
                            <td>Present Perfect ‚Üí Past Perfect</td>
                            <td>"I have worked" ‚Üí he had worked</td>
                            <td>He said he had worked.</td>
                        </tr>
                        <tr>
                            <td>will ‚Üí would</td>
                            <td>"I will go" ‚Üí he would go</td>
                            <td>He said he would go.</td>
                        </tr>
                        <tr>
                            <td>can ‚Üí could</td>
                            <td>"I can help" ‚Üí he could help</td>
                            <td>He said he could help.</td>
                        </tr>
                    </tbody>
                </table>

                <div class="important-note">
                    <h4>‚ö†Ô∏è Weitere wichtige √Ñnderungen</h4>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 15px;">
                        <div>
                            <strong>Pronomen:</strong><br>
                            I ‚Üí he/she<br>
                            you ‚Üí I/he/she<br>
                            we ‚Üí they<br>
                            my ‚Üí his/her<br>
                            your ‚Üí my/his/her
                        </div>
                        <div>
                            <strong>Zeit-/Ortsangaben:</strong><br>
                            now ‚Üí then<br>
                            today ‚Üí that day<br>
                            tomorrow ‚Üí the next day<br>
                            yesterday ‚Üí the day before<br>
                            here ‚Üí there<br>
                            this ‚Üí that
                        </div>
                    </div>
                </div>

                <div class="example-grid">
                    <div class="example-card correct">
                        <h5 style="color: var(--success-color);">‚úÖ Richtig</h5>
                        <p>"I will come tomorrow." ‚Üí She said she <span class="highlight">would come the next day</span>.</p>
                        <p>"We are leaving now." ‚Üí They said they <span class="highlight">were leaving then</span>.</p>
                        <p>"I have finished my work." ‚Üí He said he <span class="highlight">had finished his work</span>.</p>
                    </div>
                    <div class="example-card incorrect">
                        <h5 style="color: var(--accent-color);">‚ùå Falsch</h5>
                        <p>She said she <span class="highlight">will come tomorrow</span>. (keine Zeitenverschiebung)</p>
                        <p>They said they <span class="highlight">are leaving now</span>. (falsche Zeit/Adverbien)</p>
                        <p>He said he <span class="highlight">has finished my work</span>. (falsches Pronomen)</p>
                    </div>
                </div>

                <div class="exercise-box">
                    <h4>üéØ √úbung 5: Reported Speech</h4>
                    <div class="question">
                        <strong>1.</strong> "I am studying English," she said. ‚Üí She said she _______ English.
                        <br><br>
                        <input type="text" class="answer-input" id="q12a" placeholder="was studying">
                    </div>
                    <div class="question">
                        <strong>2.</strong> "We will arrive tomorrow," they told us. ‚Üí They told us they _______ the next day.
                        <br><br>
                        <input type="text" class="answer-input" id="q13a" placeholder="would arrive">
                    </div>
                    <div class="question">
                        <strong>3.</strong> "I have never been to Paris," he said. ‚Üí He said he _______ to Paris.
                        <br><br>
                        <input type="text" class="answer-input" id="q14a" placeholder="had never been">
                    </div>
                    <button class="btn btn-success" onclick="checkAnswers(5)">Antworten √ºberpr√ºfen</button>
                    <button class="btn btn-warning" onclick="showSolution(5)">L√∂sung zeigen</button>
                    <div class="solution" id="solution5">
                        <h5 style="color: var(--success-color);">L√∂sungen:</h5>
                        <p><strong>1.</strong> was studying (Present Progressive ‚Üí Past Progressive)</p>
                        <p><strong>2.</strong> would arrive (will ‚Üí would, tomorrow ‚Üí the next day)</p>
                        <p><strong>3.</strong> had never been (Present Perfect ‚Üí Past Perfect)</p>
                    </div>
                </div>

                <!-- Relative Clauses -->
                <h3 style="color: var(--secondary-color); margin: 40px 0 20px 0;">üî∏ Relative Clauses (Relativs√§tze)</h3>

                <div class="explanation">
                    <h3>Was sind Relative Clauses?</h3>
                    <p>Relativs√§tze geben zus√§tzliche Informationen √ºber ein Nomen. Sie werden mit Relativpronomen eingeleitet:</p>
                    <ul style="margin-left: 20px; margin-top: 10px;">
                        <li><strong>who</strong> - f√ºr Personen (Subjekt)</li>
                        <li><strong>whom</strong> - f√ºr Personen (Objekt, formal)</li>
                        <li><strong>which</strong> - f√ºr Sachen/Tiere</li>
                        <li><strong>that</strong> - f√ºr Personen und Sachen (informell)</li>
                        <li><strong>whose</strong> - Besitz (f√ºr Personen und Sachen)</li>
                        <li><strong>where</strong> - f√ºr Orte</li>
                        <li><strong>when</strong> - f√ºr Zeit</li>
                    </ul>
                </div>

                <div class="rule-box">
                    <h4>üìã Defining vs Non-defining Relative Clauses</h4>
                    <p><strong>Defining (bestimmend):</strong> ohne Kommas, Information ist notwendig</p>
                    <p style="margin-left: 20px;">"The man <u>who lives next door</u> is a teacher." (Welcher Mann? Der, der nebenan wohnt.)</p>
                    <p><strong>Non-defining (nicht-bestimmend):</strong> mit Kommas, zus√§tzliche Information</p>
                    <p style="margin-left: 20px;">"My brother, <u>who lives in London</u>, is a doctor." (Zusatzinfo √ºber meinen Bruder)</p>
                </div>

                <table class="grammar-table">
                    <thead>
                        <tr>
                            <th>Verwendung</th>
                            <th>Relativpronomen</th>
                            <th>Beispiel</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Person (Subjekt)</td>
                            <td>who / that</td>
                            <td>The woman <strong>who/that</strong> called is my aunt.</td>
                        </tr>
                        <tr>
                            <td>Person (Objekt)</td>
                            <td>who / whom / that / ‚àÖ</td>
                            <td>The man <strong>(who/that)</strong> I met was nice.</td>
                        </tr>
                        <tr>
                            <td>Sache (Subjekt)</td>
                            <td>which / that</td>
                            <td>The book <strong>which/that</strong> is on the table...</td>
                        </tr>
                        <tr>
                            <td>Sache (Objekt)</td>
                            <td>which / that / ‚àÖ</td>
                            <td>The car <strong>(which/that)</strong> I bought...</td>
                        </tr>
                        <tr>
                            <td>Besitz</td>
                            <td>whose</td>
                            <td>The girl <strong>whose</strong> bag was stolen...</td>
                        </tr>
                        <tr>
                            <td>Ort</td>
                            <td>where</td>
                            <td>The place <strong>where</strong> we met...</td>
                        </tr>
                    </tbody>
                </table>

                <div class="important-note">
                    <h4>‚ö†Ô∏è Wichtige Regeln</h4>
                    <p><strong>1.</strong> In defining relative clauses kann das Relativpronomen weggelassen werden, wenn es Objekt ist.</p>
                    <p style="margin-left: 20px;">‚úÖ "The book (that) I read was boring."</p>
                    <p><strong>2.</strong> Nach Komma steht nie "that"!</p>
                    <p style="margin-left: 20px;">‚ùå "My car, that is red, is fast." ‚Üí ‚úÖ "My car, which is red, is fast."</p>
                    <p><strong>3.</strong> "Whose" steht immer vor einem Nomen.</p>
                    <p style="margin-left: 20px;">‚úÖ "The man whose car was stolen..." ‚ùå "The man whose was stolen..."</p>
                </div>

                <div class="exercise-box">
                    <h4>üéØ √úbung 6: Relative Clauses</h4>
                    <div class="question">
                        <strong>1.</strong> The teacher _______ teaches us English is very nice.
                        <br><br>
                        <input type="text" class="answer-input" id="q15a" placeholder="who/that">
                    </div>
                    <div class="question">
                        <strong>2.</strong> This is the house _______ I grew up.
                        <br><br>
                        <input type="text" class="answer-input" id="q16a" placeholder="where">
                    </div>
                    <div class="question">
                        <strong>3.</strong> The girl _______ bag you found is my sister.
                        <br><br>
                        <input type="text" class="answer-input" id="q17a" placeholder="whose">
                    </div>
                    <div class="question">
                        <strong>4.</strong> My friend Tom, _______ lives in Berlin, is visiting me next week.
                        <br><br>
                        <input type="text" class="answer-input" id="q18a" placeholder="who">
                    </div>
                    <button class="btn btn-success" onclick="checkAnswers(6)">Antworten √ºberpr√ºfen</button>
                    <button class="btn btn-warning" onclick="showSolution(6)">L√∂sung zeigen</button>
                    <div class="solution" id="solution6">
                        <h5 style="color: var(--success-color);">L√∂sungen:</h5>
                        <p><strong>1.</strong> who/that (Person, Subjekt)</p>
                        <p><strong>2.</strong> where (Ort)</p>
                        <p><strong>3.</strong> whose (Besitz - wessen Tasche)</p>
                        <p><strong>4.</strong> who (nach Komma nie "that"!)</p>
                    </div>
                </div>

                <!-- Gerund vs Infinitive -->
                <h3 style="color: var(--secondary-color); margin: 40px 0 20px 0;">üî∏ Gerund vs Infinitive (sehr wichtig f√ºr Abitur!)</h3>

                <div class="explanation">
                    <h3>Gerund vs Infinitive - Der Klassiker im Abitur!</h3>
                    <p>Das ist eines der schwierigsten Themen f√ºr deutsche Sch√ºler. Es gibt keine feste Regel - man muss die Verben auswendig lernen!</p>
                    <p><strong>Gerund (-ing):</strong> "I enjoy reading."</p>
                    <p><strong>Infinitive (to + Grundform):</strong> "I want to read."</p>
                    <p><strong>Infinitive ohne to:</strong> "I can read."</p>
                </div>

                <div class="rule-box">
                    <h4>üìã Verben mit Gerund (-ing)</h4>
                    <p>Diese Verben stehen IMMER mit Gerund:</p>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px;">
                        <div>‚Ä¢ admit</div><div>‚Ä¢ avoid</div><div>‚Ä¢ consider</div>
                        <div>‚Ä¢ deny</div><div>‚Ä¢ enjoy</div><div>‚Ä¢ finish</div>
                        <div>‚Ä¢ imagine</div><div>‚Ä¢ keep</div><div>‚Ä¢ mind</div>
                        <div>‚Ä¢ miss</div><div>‚Ä¢ practice</div><div>‚Ä¢ quit</div>
                        <div>‚Ä¢ risk</div><div>‚Ä¢ suggest</div><div>‚Ä¢ can't help</div>
                    </div>
                    <p style="margin-top: 15px;"><strong>Beispiele:</strong></p>
                    <p>‚Ä¢ I enjoy <u>watching</u> movies. ‚Ä¢ He avoided <u>talking</u> to her. ‚Ä¢ She suggested <u>going</u> to the cinema.</p>
                </div>

                <div class="rule-box">
                    <h4>üìã Verben mit Infinitive (to + Grundform)</h4>
                    <p>Diese Verben stehen IMMER mit Infinitive:</p>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px;">
                        <div>‚Ä¢ afford</div><div>‚Ä¢ agree</div><div>‚Ä¢ appear</div>
                        <div>‚Ä¢ choose</div><div>‚Ä¢ decide</div><div>‚Ä¢ expect</div>
                        <div>‚Ä¢ hope</div><div>‚Ä¢ learn</div><div>‚Ä¢ manage</div>
                        <div>‚Ä¢ offer</div><div>‚Ä¢ plan</div><div>‚Ä¢ pretend</div>
                        <div>‚Ä¢ promise</div><div>‚Ä¢ refuse</div><div>‚Ä¢ want</div>
                    </div>
                    <p style="margin-top: 15px;"><strong>Beispiele:</strong></p>
                    <p>‚Ä¢ I want <u>to go</u> home. ‚Ä¢ She decided <u>to study</u> medicine. ‚Ä¢ They promised <u>to help</u> us.</p>
                </div>

                <div class="important-note">
                    <h4>‚ö†Ô∏è Verben mit BEIDEN Formen (aber unterschiedliche Bedeutung!)</h4>
                    <table style="width: 100%; margin-top: 15px;">
                        <tr style="background: white;">
                            <td><strong>remember doing</strong> = sich erinnern (Vergangenheit)</td>
                            <td><strong>remember to do</strong> = daran denken (Zukunft)</td>
                        </tr>
                        <tr>
                            <td>"I remember closing the door." (Ich erinnere mich daran)</td>
                            <td>"Remember to close the door!" (Vergiss nicht!)</td>
                        </tr>
                        <tr style="background: white;">
                            <td><strong>stop doing</strong> = aufh√∂ren mit etwas</td>
                            <td><strong>stop to do</strong> = anhalten, um etwas zu tun</td>
                        </tr>
                        <tr>
                            <td>"He stopped smoking." (Er h√∂rte auf zu rauchen)</td>
                            <td>"He stopped to smoke." (Er hielt an, um zu rauchen)</td>
                        </tr>
                    </table>
                </div>

                <div class="exercise-box">
                    <h4>üéØ √úbung 7: Gerund vs Infinitive</h4>
                    <div class="question">
                        <strong>1.</strong> I enjoy _______ (read) books in my free time.
                        <br><br>
                        <input type="text" class="answer-input" id="q19a" placeholder="reading">
                    </div>
                    <div class="question">
                        <strong>2.</strong> She decided _______ (study) abroad next year.
                        <br><br>
                        <input type="text" class="answer-input" id="q20a" placeholder="to study">
                    </div>
                    <div class="question">
                        <strong>3.</strong> They can't afford _______ (buy) a new car right now.
                        <br><br>
                        <input type="text" class="answer-input" id="q21a" placeholder="to buy">
                    </div>
                    <div class="question">
                        <strong>4.</strong> I remember _______ (meet) you at the party last year.
                        <br><br>
                        <input type="text" class="answer-input" id="q22a" placeholder="meeting">
                    </div>
                    <div class="question">
                        <strong>5.</strong> Don't forget _______ (call) your mother!
                        <br><br>
                        <input type="text" class="answer-input" id="q23a" placeholder="to call">
                    </div>
                    <button class="btn btn-success" onclick="checkAnswers(7)">Antworten √ºberpr√ºfen</button>
                    <button class="btn btn-warning" onclick="showSolution(7)">L√∂sung zeigen</button>
                    <div class="solution" id="solution7">
                        <h5 style="color: var(--success-color);">L√∂sungen:</h5>
                        <p><strong>1.</strong> reading (enjoy + gerund)</p>
                        <p><strong>2.</strong> to study (decide + infinitive)</p>
                        <p><strong>3.</strong> to buy (afford + infinitive)</p>
                        <p><strong>4.</strong> meeting (remember doing = Erinnerung an Vergangenheit)</p>
                        <p><strong>5.</strong> to call (forget to do = vergessen, etwas zu tun)</p>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 40px; padding: 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 15px; color: white;">
                    <h3>üéØ Zusammenfassung der wichtigsten Grammatik-Bereiche</h3>
                    <p style="margin-bottom: 20px;">Du hast die fundamentalen Grammatik-Themen f√ºr das Englisch-Abitur kennengelernt:</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 20px;">
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">‚úÖ Present & Past Tenses</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">‚úÖ Conditionals (Type 1-3)</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">‚úÖ Passive Voice</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">‚úÖ Reported Speech</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">‚úÖ Relative Clauses</div>
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">‚úÖ Gerund vs Infinitive</div>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <a href="index.html" class="btn btn-warning">üè† Zur√ºck zur √úbersicht</a>
                    <a href="irregular_verbs.html" class="btn btn-success">‚û°Ô∏è Weiter zu Irregular Verbs</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        let correctAnswers = 0;
        let totalQuestions = 0;
        let currentExercise = 0;

        // Define correct answers for each exercise
        const answers = {
            1: {
                'q1a': ['works'], 'q1b': ['is helping'],
                'q2a': ['freezes'], 'q2b': ['is not freezing', "isn't freezing", 'is not frezing']
            },
            2: {
                'q3a': ['have seen'],
                'q4a': ['went'], 'q4b': ['watched'],
                'q5a': ['lived']
            },
            3: {
                'q6a': ['studies'], 'q6b': ['will get'],
                'q7a': ['were'], 'q7b': ['would not do', "wouldn't do"],
                'q8a': ['had left'], 'q8b': ['would not have missed', "wouldn't have missed"]
            },
            4: {
                'q9a': ['was written'],
                'q10a': ['is being built'],
                'q11a': ['has been stolen']
            },
            5: {
                'q12a': ['was studying'],
                'q13a': ['would arrive'],
                'q14a': ['had never been']
            },
            6: {
                'q15a': ['who', 'that'],
                'q16a': ['where'],
                'q17a': ['whose'],
                'q18a': ['who']
            },
            7: {
                'q19a': ['reading'],
                'q20a': ['to study'],
                'q21a': ['to buy'],
                'q22a': ['meeting'],
                'q23a': ['to call']
            }
        };

        function checkAnswers(exerciseNum) {
            const exerciseAnswers = answers[exerciseNum];
            let correct = 0;
            let total = 0;

            for (let questionId in exerciseAnswers) {
                total++;
                const input = document.getElementById(questionId);
                const userAnswer = input.value.trim().toLowerCase();
                const correctAnswers = exerciseAnswers[questionId].map(ans => ans.toLowerCase());

                if (correctAnswers.includes(userAnswer)) {
                    input.style.borderColor = '#27ae60';
                    input.style.backgroundColor = '#d4edda';
                    correct++;
                } else {
                    input.style.borderColor = '#e74c3c';
                    input.style.backgroundColor = '#f8d7da';
                }
            }

            // Show results
            const percentage = Math.round((correct / total) * 100);
            let message = `√úbung ${exerciseNum}: ${correct}/${total} richtig (${percentage}%)`;
            
            if (percentage >= 80) {
                message += " - Ausgezeichnet! üéâ";
            } else if (percentage >= 60) {
                message += " - Gut gemacht! üëç";
            } else {
                message += " - Weiter √ºben! üí™";
            }

            alert(message);
            updateProgress();
        }

        function showSolution(exerciseNum) {
            document.getElementById(`solution${exerciseNum}`).classList.add('show');
        }

        function updateProgress() {
            // Simple progress tracking
            let completedExercises = document.querySelectorAll('.solution.show').length;
            let totalExercises = 7;
            let progress = (completedExercises / totalExercises) * 100;
            
            document.getElementById('overallProgress').style.width = progress + '%';
        }

        // Add input validation and hints
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('.answer-input');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.style.borderColor = '#3498db';
                    this.style.backgroundColor = '#f8f9fa';
                });
                
                input.addEventListener('blur', function() {
                    this.style.borderColor = '#ddd';
                    this.style.backgroundColor = 'white';
                });
            });

            // Track page visit
            trackPageVisit('grammar_exercises');
        });

        function trackPageVisit(page) {
            let visitedPages = JSON.parse(localStorage.getItem('visitedPages') || '[]');
            if (!visitedPages.includes(page)) {
                visitedPages.push(page);
                localStorage.setItem('visitedPages', JSON.stringify(visitedPages));
            }
        }

        // Add keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                // Find the currently focused exercise and check answers
                const focusedInput = document.activeElement;
                if (focusedInput.classList.contains('answer-input')) {
                    const exerciseBox = focusedInput.closest('.exercise-box');
                    const exerciseNum = Array.from(document.querySelectorAll('.exercise-box')).indexOf(exerciseBox) + 1;
                    checkAnswers(exerciseNum);
                }
            }
        });

        // Auto-save answers to localStorage
        document.querySelectorAll('.answer-input').forEach(input => {
            // Load saved answer
            const saved = localStorage.getItem(input.id);
            if (saved) {
                input.value = saved;
            }

            // Save on input
            input.addEventListener('input', function() {
                localStorage.setItem(this.id, this.value);
            });
        });

        // Add helpful tooltips
        function addTooltip(element, text) {
            element.setAttribute('title', text);
        }

        // Initialize tooltips
        document.addEventListener('DOMContentLoaded', function() {
            addTooltip(document.querySelector('#q1a'), 'Tipp: Gewohnheit oder tempor√§re Handlung?');
            addTooltip(document.querySelector('#q3a'), 'Tipp: Zeitangabe vorhanden oder nicht?');
            addTooltip(document.querySelector('#q6a'), 'Tipp: Type 1 = real m√∂glich, Simple Present im if-Satz');
            addTooltip(document.querySelector('#q9a'), 'Tipp: Vergangenheit + Passiv = was + Past Participle');
            addTooltip(document.querySelector('#q12a'), 'Tipp: Present Progressive wird zu Past Progressive');
            addTooltip(document.querySelector('#q15a'), 'Tipp: Person als Subjekt = who oder that');
            addTooltip(document.querySelector('#q19a'), 'Tipp: enjoy steht immer mit Gerund (-ing)');
        });
    </script>
</body>
</html>